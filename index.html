
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>EFPNO &mdash; EFPNO v0.1 documentation</title>
    <link rel="stylesheet" href="static/nature.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="EFPNO v0.1 documentation" href="#" />
	 


   <style type="text/css">
        span.brand { color: #a00;}
   </style> 
   

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="#">EFPNO v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <a href="http://github.com/AndreaCensi/efpno"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>
<div class="section" id="efpno">
<h1>EFPNO<a class="headerlink" href="#efpno" title="Permalink to this headline">¶</a></h1>
<p>EFPNO, (non-imaginative acronym for <em>Euclidean Formalization of Pose Network Optimization</em>) is a Python library that solves the pose network optimization problem.
It is entering the <a class="reference external" href="http://slameval.willowgarage.com/workshop/">RSS2011 SLAM evaluation workshop</a> with the expectation of being the slowest, least precise entry.</p>
<p>This is because it is designed to solve the global pose optimization, using only the pose-to-pose constraints. Contrary to most methods, the optimization step is not iterative, but rather the solution is found in one shot. (There is, however, an initial graph simplification phase which is iterative).</p>
<p><strong>Status as of 2011-06-23:</strong></p>
<ul class="simple">
<li>Documentation (a technical report) is being written, check back soon :-).</li>
<li>Right now, it is written in Python and takes 2-3 minutes to run on these examples. I think it could get easily under 1 second if written in C++ (we will see).</li>
<li>This code is alpha quality. There are many &#8220;dead&#8221; parts of code (something tried but abandoned) so looking into it right now could be a bit confusing.</li>
</ul>
<p><strong>Acknowledgments</strong>: Thanks to all the researchers who make their code and datasets freely available. The <tt class="docutils literal"><span class="pre">data/</span></tt> directory contains 3 datasets on which I tested this code.These datasets float around so it is difficult for me to credit all the people involved.
I think the original Intel dataset was taken by Dirk Haehnel in Washington, but I don&#8217;t know who ran the scan-matching code and loop closure detection; probably our friends in Freiburg.
The synthetic datasets were generated by <a class="reference external" href="http://april.eecs.umich.edu/">Edwin Olson</a>, but perhaps they were converted in the current form by someone else.  Let me know if you know of any correction.</p>
<p><strong>Related software</strong>: In general, the <a class="reference external" href="http://www.openslam.org/">OpenSLAM</a> repository should have the largest collection. <a class="reference external" href="http://www.cc.gatech.edu/~kaess/iSAM.html">iSAM</a>, <a class="reference external" href="http://www.openslam.org/g2o.html">g2o</a>, <a class="reference external" href="http://www.openslam.org/hog-man.html">HOG-Man</a>, are examples of recent iterative optimization methods for solving the same problem.</p>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>This is the output of the algorithm using the default parameters (same parameters for all graphs).
Note that the result is &#8220;decent&#8221; but nowhere near the precision of iterative methods.</p>

<table id="examples">
    <tr class="header">
        <td>Dataset</td>
        <td>Input file</td>
        <td>EFPNO's solution </td>
        <td>link to full report</td>
    </tr>

    <tr>
        <td>w10000-odom</td>
        <td><a class="log" href="static/test_solve/source/w10000-odom.graph"/> 
            .graph
            </a></td>
        <td><a class="log" href="static/test_solve/solved/w10000-odom-D15-N250-S10000.graph"/> 
            *-D15-N250-S10000.graph
            </a></td>
        <td><a href="static/test_solve/reports/w10000-odom-D15-N250-S10000.html"/> 
            D15-N250-S10000
            </a></td>
    </tr>

    <tr>
        <td>manhattanOlson3500</td>
        <td><a class="log" href="static/test_solve/source/manhattanOlson3500.graph"/> 
            .graph
            </a></td>
        <td><a class="log" href="static/test_solve/solved/manhattanOlson3500-D15-N250-S10000.graph"/> 
            *-D15-N250-S10000.graph
            </a></td>
        <td><a href="static/test_solve/reports/manhattanOlson3500-D15-N250-S10000.html"/> 
            D15-N250-S10000
            </a></td>
    </tr>

    <tr>
        <td>Intel</td>
        <td><a class="log" href="static/test_solve/source/intel.graph"/> 
            .graph
            </a></td>
        <td><a class="log" href="static/test_solve/solved/intel-D15-N250-S10000.graph"/> 
            *-D15-N250-S10000.graph
            </a></td>
        <td><a href="static/test_solve/reports/intel-D15-N250-S10000.html"/> 
            D15-N250-S10000
            </a></td>
    </tr>
    
</table>


<style type="text/css">

table#examples TD { padding-left: 1em; padding-right: 1em; }
table#examples TD A.log { font-family: monospace; font-size: 80%;}
tr.header { font-style: italic;}

img.graph { border: solid 2px black; padding:0 ; margin: 20px; 
            width: 75%;}
            
            
         
div.example { clear: left;  }   
div.frame { float: left; width: 40%; text-align: center; }

div.frame P { font-weight: bold; text-align: center; padding-bottom: 3px; margin-bottom: -20px;}
h1, h2, h3, h4 { clear: both;}

</style>


<p>
    This is a visualization of the input and the output. 
    Note that the visualization of the input is misleading, because the algorithm does
    not use the initial pose given to the nodes, but only the pose-to-pose constraints.
</p>
    

<div class="example">

    <div class="frame left">
        <p> The <tt>manhattanOlson3500</tt> dataset </p>    
    
        <img class="graph" 
         src="static/test_solve/reports/images/manhattanOlson3500:graph.png"/>
    </div>
    
    <div class="frame right">
        <p> EFPNO's one-shot solution </p>
        <img class="graph" 
 src="static/test_solve/reports/images/manhattanOlson3500-D15-N250-S10000:graph.png"
    />
    </div>
</div>


<div class="example">

    <div class="frame left">
        <p> The <tt>w10000</tt> dataset </p>    
    
        <img class="graph" 
         src="static/test_solve/reports/images/w10000-odom:graph.png"/>
    </div>
    
    <div class="frame right">
        <p> EFPNO's one-shot solution </p>
        <img class="graph" 
 src="static/test_solve/reports/images/w10000-odom-D15-N250-S10000:graph.png"
    />
    </div>
</div>





</div>
<div class="section" id="downloading">
<h2>Downloading<a class="headerlink" href="#downloading" title="Permalink to this headline">¶</a></h2>
<p>For downloading the branch to be used for RSS2011, use this Git command:</p>
<div class="highlight-python"><pre>$ git clone -b RSS2011 git://github.com/AndreaCensi/efpno.git</pre>
</div>
<p>Otherwise, simply use:</p>
<div class="highlight-python"><pre>$ git clone git://github.com/AndreaCensi/efpno.git</pre>
</div>
<p>to download a more current version.</p>
</div>
<div class="section" id="installation-instructions">
<h2>Installation instructions<a class="headerlink" href="#installation-instructions" title="Permalink to this headline">¶</a></h2>
<p>These installation instructions have been tested on Ubuntu 10.04.</p>
<p>First, install the requirements that come as Ubuntu packages:</p>
<div class="highlight-python"><pre>$ sudo apt-get install python-pip python-numpy python-scipy git-core python-nose</pre>
</div>
<p>Then, install a few Python packages using <tt class="docutils literal"><span class="pre">pip</span></tt>:</p>
<div class="highlight-python"><pre>$ sudo pip install --upgrade PyContracts
$ sudo pip install --upgrade PyGeometry
$ sudo pip install --upgrade RepRep</pre>
</div>
<p>At this point, install the executables:</p>
<div class="highlight-python"><pre>$ cd efpno
$ sudo python setup.py develop</pre>
</div>
</div>
<div class="section" id="overview-of-executables-included">
<h2>Overview of executables included<a class="headerlink" href="#overview-of-executables-included" title="Permalink to this headline">¶</a></h2>
<p>Various executable are installed.</p>
<div class="section" id="script-efpno-slam-eval">
<h3>Script <tt class="docutils literal"><span class="pre">efpno_slam_eval</span></tt><a class="headerlink" href="#script-efpno-slam-eval" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">efpno_slam_eval</span></tt> implements the SLAM evaluation protocol. It is very slow (~2 minutes for a graph with 3500 nodes). It only makes sense to analyze it in batch mode.</p>
<p>This is an example of using the <tt class="docutils literal"><span class="pre">evaluation</span></tt> program:</p>
<div class="highlight-python"><pre>evaluation `which efpno_slam_eval` /data/manhattanOlson3500.txt  0 &gt; log</pre>
</div>
</div>
<div class="section" id="script-efpno-solve">
<h3>Script <tt class="docutils literal"><span class="pre">efpno_solve</span></tt><a class="headerlink" href="#script-efpno-solve" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">efpno_solve</span></tt> reads a graph and optimizes it. Usage:</p>
<div class="highlight-python"><pre>efpno_solve [options] logfile &gt; output</pre>
</div>
</div>
<div class="section" id="script-efpno-simplify">
<h3>Script <tt class="docutils literal"><span class="pre">efpno_simplify</span></tt><a class="headerlink" href="#script-efpno-simplify" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">efpno_simplify</span></tt> only does the simplification step. Usage:</p>
<div class="highlight-python"><pre>efpno_simplify [options] logfile &gt; output</pre>
</div>
</div>
<div class="section" id="script-efpno-plot">
<h3>Script <tt class="docutils literal"><span class="pre">efpno_plot</span></tt><a class="headerlink" href="#script-efpno-plot" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">efpno_plot</span></tt> creates figures and a short report. Usage:</p>
<div class="highlight-python"><pre>efpno_plot [options] --outdir OUTPUT_DIR/  logfile</pre>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">EFPNO</a><ul>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#downloading">Downloading</a></li>
<li><a class="reference internal" href="#installation-instructions">Installation instructions</a></li>
<li><a class="reference internal" href="#overview-of-executables-included">Overview of executables included</a><ul>
<li><a class="reference internal" href="#script-efpno-slam-eval">Script <tt class="docutils literal"><span class="pre">efpno_slam_eval</span></tt></a></li>
<li><a class="reference internal" href="#script-efpno-solve">Script <tt class="docutils literal"><span class="pre">efpno_solve</span></tt></a></li>
<li><a class="reference internal" href="#script-efpno-simplify">Script <tt class="docutils literal"><span class="pre">efpno_simplify</span></tt></a></li>
<li><a class="reference internal" href="#script-efpno-plot">Script <tt class="docutils literal"><span class="pre">efpno_plot</span></tt></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li><a href="#">EFPNO v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
	
    <div class="footer">
        &copy; Copyright 2011, Andrea Censi.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
	
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'GOOGLE_TRACK']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>


  </body>
</html>